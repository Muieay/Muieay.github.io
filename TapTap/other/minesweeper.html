<html><head><meta charset="utf-8"><link rel="icon" href="/img/favicon.png"><title>扫雷</title><style>.minetbl{border:solid #080 2px;cursor:crosshair}body{background-color:#000;color:#afa}input{background-color:#303;color:#afa;border:solid #0f0 1px;text-align:center}select{background-color:#303;color:#afa;border:solid #0f0 1px;text-align:center}#headingBox{position:absolute;top:8px;left:8px;z-index:100;width:auto;overflow:visible}H1,H2{margin:0;padding:0}#face{border:none;text-decoration:none;color:#ff0;font-size:52px}#modeBox{position:absolute;border:solid green 1px;top:0;right:0;z-index:101;padding-top:8px;padding-right:8px;padding-left:8px;padding-bottom:0}#modeBoxHandle{border:solid green 1px;text-align:center;-moz-border-radius:10 10 0 0}#modeBoxHandleText{color:#4f4;text-decoration:none}.minecell{height:2EM;width:2EM;text-align:center;font-size:1.5EM;vertical-align:center}</style><script>var i,j,count,firstMove=1,boardRows=9,boardCols=9,boardMines=10,board=new Array(boardRows),flags=new Array(boardRows),clockFlag="nothing running",clockAt=0,minesLeft=boardMines,tilesLeft=boardRows*boardCols-minesLeft,totalClicks=0,totalSquares=0,hitBlankOrMine=0,tiles=new Array;function setMode(o){switch(o){case"Beginner":boardRows=9,boardCols=9,boardMines=10;break;case"Intermediate":boardRows=16,boardCols=16,boardMines=40;break;case"Expert":boardRows=16,boardCols=30,boardMines=99;break;case"Custom":boardRows=parseInt(document.forms.modes.nRows.value),boardCols=parseInt(document.forms.modes.nCols.value),boardMines=parseInt(document.forms.modes.nMines.value)}document.getElementById("modeTitle").innerHTML=o+" Mode",document.forms.modes.nRows.value=boardRows,document.forms.modes.nCols.value=boardCols,document.forms.modes.nMines.value=boardMines,resetBoard()}function updateMines(o){var e="Mines:<br />";e+=minesLeft+=o,document.getElementById("mineCount").innerHTML=e}function updateClock(){var o="Time:<br />";(clockAt+=1)<10&&(o+="0"),clockAt<100&&(o+="0"),o+=clockAt,document.getElementById("timeCount").innerHTML=o}function rebuildBoard(){var o,e,l='<table class="minetbl" cellspacing="0" cellpadding="0">\n';for(o=0;o<boardRows;o++){for(l+="<tr>\n",e=0;e<boardCols;e++)l+='<td class="minecell" id="c'+o+":"+e+'" style="border: outset #aaaaaa 0.1EM; background-color: #888888;" onclick="lClick(\''+o+":"+e+"')\" oncontextmenu=\"return rClick('"+o+":"+e+"')\">&nbsp;</td>\n";l+="</tr>"}l+="</table>\n",document.getElementById("theTable").innerHTML=l}function resetBoard(){for(document.getElementById("face").innerHTML=tiles[14],rebuildBoard(),"nothing running"!=clockFlag&&clearInterval(clockFlag),clockAt=-1,updateClock(),minesLeft=boardMines,totalClicks=0,totalSquares=0,hitBlankOrMine=0,updateMines(0),firstMove=1,i=0;i<boardRows;i++)for(board[i]=new Array(boardCols),flags[i]=new Array(boardCols),j=0;j<boardCols;j++)board[i][j]=" ",flags[i][j]=" ",document.getElementById("c"+i+":"+j).innerHTML="&nbsp;",document.getElementById("c"+i+":"+j).style.backgroundColor="#888888",document.getElementById("c"+i+":"+j).style.borderStyle="outset";for(count=0;count<minesLeft;count++){for(i=Math.round(Math.random()*(boardRows-1)),j=Math.round(Math.random()*(boardCols-1));"M"==board[i][j];)i=Math.round(Math.random()*(boardRows-1)),j=Math.round(Math.random()*(boardCols-1));board[i][j]="M"}return tilesLeft=boardRows*boardCols-minesLeft,!1}function lClick(o){var e,l,t,n,r;if(e=parseInt(o),l=parseInt(o.substring(o.indexOf(":")+1,o.length)),"F"==flags[e][l]||"C"==flags[e][l])return!1;if(totalClicks++,totalSquares++,firstMove&&(firstMove=0,clockFlag=setInterval("updateClock()",1e3),"M"==board[e][l])){for(board[e][l]=" ",t=Math.round(Math.random()*(boardRows-1)),n=Math.round(Math.random()*(boardCols-1));"M"==board[t][n];)t=Math.round(Math.random()*(boardRows-1)),n=Math.round(Math.random()*(boardCols-1));board[t][n]="M"}if(document.getElementById("c"+o).style.borderStyle="solid",document.getElementById("c"+o).style.backgroundColor="#aaaaaa","M"==board[e][l]){for(document.getElementById("face").innerHTML=tiles[15],document.getElementById("c"+o).style.backgroundColor="red",document.forms.modes.modeSelect.options[document.forms.modes.modeSelect.selectedIndex].value,0==hitBlankOrMine&&(hitBlankOrMine=1),clearInterval(clockFlag),clockFlag="nothing running",firstMove=1,t=0;t<boardRows;t++)for(n=0;n<boardCols;n++)"M"==board[t][n]&&"F"!=flags[t][n]&&(document.getElementById("c"+t+":"+n).innerHTML=tiles[12]),"F"==flags[t][n]&&"M"!=board[t][n]&&(document.getElementById("c"+t+":"+n).innerHTML=tiles[11]),flags[t][n]="C";document.getElementById("c"+o).innerHTML=tiles[10]}else if(document.getElementById("c"+o).innerHTML=tiles[0],flags[e][l]="C",0==(r=neighbourCount(e,l))?(document.forms.modes.modeSelect.options[document.forms.modes.modeSelect.selectedIndex].value,0==hitBlankOrMine&&(hitBlankOrMine=1),0!=e&&(0!=l&&lClick(e-1+":"+(l-1)),lClick(e-1+":"+l),l<boardCols-1&&lClick(e-1+":"+(l+1))),0!=l&&lClick(e+":"+(l-1)),l<boardCols-1&&lClick(e+":"+(l+1)),e<boardRows-1&&(0!=l&&lClick(e+1+":"+(l-1)),lClick(e+1+":"+l),l<boardCols-1&&lClick(e+1+":"+(l+1)))):(document.getElementById("c"+o).style.backgroundColor="#aaaaaa",document.getElementById("c"+o).style.borderStyle="solid",document.getElementById("c"+o).innerHTML=tiles[r]),(tilesLeft-=1)<1)for(clearInterval(clockFlag),document.getElementById("face").innerHTML=tiles[16],document.forms.modes.modeSelect.options[document.forms.modes.modeSelect.selectedIndex].value,t=0;t<boardRows;t++)for(n=0;n<boardCols;n++)flags[t][n]="C","M"==board[t][n]&&(document.getElementById("c"+t+":"+n).innerHTML=tiles[9])}function neighbourCount(o,e){var l=0;return o>0&&(e>0&&"M"==board[o-1][e-1]&&l++,"M"==board[o-1][e]&&l++,e<boardCols-1&&"M"==board[o-1][e+1]&&l++),e>0&&"M"==board[o][e-1]&&l++,e<boardCols-1&&"M"==board[o][e+1]&&l++,o<boardRows-1&&(e>0&&"M"==board[o+1][e-1]&&l++,"M"==board[o+1][e]&&l++,e<boardCols-1&&"M"==board[o+1][e+1]&&l++),l}function flagCount(o,e){var l=0;return o>0&&(e>0&&"F"==flags[o-1][e-1]&&l++,"F"==flags[o-1][e]&&l++,e<boardCols-1&&"F"==flags[o-1][e+1]&&l++),e>0&&"F"==flags[o][e-1]&&l++,e<boardCols-1&&"F"==flags[o][e+1]&&l++,o<boardRows-1&&(e>0&&"F"==flags[o+1][e-1]&&l++,"F"==flags[o+1][e]&&l++,e<boardCols-1&&"F"==flags[o+1][e+1]&&l++),l}function rClick(o){return row=parseInt(o),col=parseInt(o.substring(o.indexOf(":")+1,o.length)),"C"==flags[row][col]?(neighbourCount(row,col)==flagCount(row,col)&&neighbourCount(row,col)>0&&(0!=row&&(0!=col&&lClick(row-1+":"+(col-1)),lClick(row-1+":"+col),col<boardCols-1&&lClick(row-1+":"+(col+1))),0!=col&&lClick(row+":"+(col-1)),col<boardCols-1&&lClick(row+":"+(col+1)),row<boardRows-1&&(0!=col&&lClick(row+1+":"+(col-1)),lClick(row+1+":"+col),col<boardCols-1&&lClick(row+1+":"+(col+1)))),!1):" "==flags[row][col]?(flags[row][col]="F",updateMines(-1),document.getElementById("c"+o).innerHTML=tiles[9],!1):"F"==flags[row][col]?(updateMines(1),flags[row][col]="?",document.getElementById("c"+o).innerHTML=tiles[13],!1):"?"==flags[row][col]&&(flags[row][col]=" ",document.getElementById("c"+o).innerHTML=tiles[0],!1)}tiles[0]="&nbsp;",tiles[1]="<span style='color:#0000FF'>1</span>",tiles[2]="<span style='color:#00FF00'>2</span>",tiles[3]="<span style='color:#FF0000'>3</span>",tiles[4]="<span style='color:#000088'>4</span>",tiles[5]="<span style='color:#008800'>5</span>",tiles[6]="<span style='color:#880000'>6</span>",tiles[7]="<span style='color:#008888'>7</span>",tiles[8]="<span style='color:#888800'>8</span>",tiles[9]="<span style='color:#008800'>\t&#9971;</span>",tiles[10]="<span style='color:#FFFF00'>&#128165;</span>",tiles[11]="<span style='color:#FF0000'>&#128711;</span>",tiles[12]="<span style='color:#000000'>&#128163;</span>",tiles[13]="<span style='color:#00FF00'>?</span>",tiles[14]="&#128578;",tiles[15]="&#128534;",tiles[16]="&#128526;"</script></head><body onload="resetBoard()"><div id="modeBox"><form name="modes" action="#" method="GET" onsubmit="return!1">Mode: <select name="modeSelect" onchange="setMode(modeSelect.options[modeSelect.selectedIndex].value)"><option value="Beginner">Beginner</option><option value="Intermediate">Intermediate</option><option value="Expert">Expert</option><option value="Custom">Custom</option></select> &nbsp; Row x Col:<input type="text" name="nRows" size="2" value="9"> x <input type="text" name="nCols" size="2" value="9"><br>Mines:<input type="text" name="nMines" size="2" value="10"> &nbsp; <input type="button" name="goCust" value="activate custom board" onclick="setMode(modeSelect.options[modeSelect.selectedIndex].value)"><br></form></div><div id="headingBox"><h1>Web Minesweeper</h1><h2 id="modeTitle">Beginner Mode</h2></div><br clear="all"><div align="center"><table border="0" cellspacing="0" cellpadding="0" width="240"><tr><td id="mineCount" align="center" width="100">Mines:<br>10</td><td align="center" width="40"><a href="#" onclick="return resetBoard()" id="face" border="0">&#128578;</a></td><td id="timeCount" align="center" width="100">Time:<br>000</td></tr></table><br><div id="theTable"><table class="minetbl" cellspacing="0" cellpadding="0"><tr><td id="c0:0" onclick='lClick("0:0")' oncontextmenu='return rClick("0:0")' class="minecell">&nbsp;</td><td id="c0:1" onclick='lClick("0:1")' oncontextmenu='return rClick("0:1")' class="minecell">&nbsp;</td><td id="c0:2" onclick='lClick("0:2")' oncontextmenu='return rClick("0:2")' class="minecell">&nbsp;</td><td id="c0:3" onclick='lClick("0:3")' oncontextmenu='return rClick("0:3")' class="minecell">&nbsp;</td><td id="c0:4" onclick='lClick("0:4")' oncontextmenu='return rClick("0:4")' class="minecell">&nbsp;</td><td id="c0:5" onclick='lClick("0:5")' oncontextmenu='return rClick("0:5")' class="minecell">&nbsp;</td><td id="c0:6" onclick='lClick("0:6")' oncontextmenu='return rClick("0:6")' class="minecell">&nbsp;</td><td id="c0:7" onclick='lClick("0:7")' oncontextmenu='return rClick("0:7")' class="minecell">&nbsp;</td><td id="c0:8" onclick='lClick("0:8")' oncontextmenu='return rClick("0:8")' class="minecell">&nbsp;</td></tr><tr><td id="c1:0" onclick='lClick("1:0")' oncontextmenu='return rClick("1:0")' class="minecell">&nbsp;</td><td id="c1:1" onclick='lClick("1:1")' oncontextmenu='return rClick("1:1")' class="minecell">&nbsp;</td><td id="c1:2" onclick='lClick("1:2")' oncontextmenu='return rClick("1:2")' class="minecell">&nbsp;</td><td id="c1:3" onclick='lClick("1:3")' oncontextmenu='return rClick("1:3")' class="minecell">&nbsp;</td><td id="c1:4" onclick='lClick("1:4")' oncontextmenu='return rClick("1:4")' class="minecell">&nbsp;</td><td id="c1:5" onclick='lClick("1:5")' oncontextmenu='return rClick("1:5")' class="minecell">&nbsp;</td><td id="c1:6" onclick='lClick("1:6")' oncontextmenu='return rClick("1:6")' class="minecell">&nbsp;</td><td id="c1:7" onclick='lClick("1:7")' oncontextmenu='return rClick("1:7")' class="minecell">&nbsp;</td><td id="c1:8" onclick='lClick("1:8")' oncontextmenu='return rClick("1:8")' class="minecell">&nbsp;</td></tr><tr><td id="c2:0" onclick='lClick("2:0")' oncontextmenu='return rClick("2:0")' class="minecell">&nbsp;</td><td id="c2:1" onclick='lClick("2:1")' oncontextmenu='return rClick("2:1")' class="minecell">&nbsp;</td><td id="c2:2" onclick='lClick("2:2")' oncontextmenu='return rClick("2:2")' class="minecell">&nbsp;</td><td id="c2:3" onclick='lClick("2:3")' oncontextmenu='return rClick("2:3")' class="minecell">&nbsp;</td><td id="c2:4" onclick='lClick("2:4")' oncontextmenu='return rClick("2:4")' class="minecell">&nbsp;</td><td id="c2:5" onclick='lClick("2:5")' oncontextmenu='return rClick("2:5")' class="minecell">&nbsp;</td><td id="c2:6" onclick='lClick("2:6")' oncontextmenu='return rClick("2:6")' class="minecell">&nbsp;</td><td id="c2:7" onclick='lClick("2:7")' oncontextmenu='return rClick("2:7")' class="minecell">&nbsp;</td><td id="c2:8" onclick='lClick("2:8")' oncontextmenu='return rClick("2:8")' class="minecell">&nbsp;</td></tr><tr><td id="c3:0" onclick='lClick("3:0")' oncontextmenu='return rClick("3:0")' class="minecell">&nbsp;</td><td id="c3:1" onclick='lClick("3:1")' oncontextmenu='return rClick("3:1")' class="minecell">&nbsp;</td><td id="c3:2" onclick='lClick("3:2")' oncontextmenu='return rClick("3:2")' class="minecell">&nbsp;</td><td id="c3:3" onclick='lClick("3:3")' oncontextmenu='return rClick("3:3")' class="minecell">&nbsp;</td><td id="c3:4" onclick='lClick("3:4")' oncontextmenu='return rClick("3:4")' class="minecell">&nbsp;</td><td id="c3:5" onclick='lClick("3:5")' oncontextmenu='return rClick("3:5")' class="minecell">&nbsp;</td><td id="c3:6" onclick='lClick("3:6")' oncontextmenu='return rClick("3:6")' class="minecell">&nbsp;</td><td id="c3:7" onclick='lClick("3:7")' oncontextmenu='return rClick("3:7")' class="minecell">&nbsp;</td><td id="c3:8" onclick='lClick("3:8")' oncontextmenu='return rClick("3:8")' class="minecell">&nbsp;</td></tr><tr><td id="c4:0" onclick='lClick("4:0")' oncontextmenu='return rClick("4:0")' class="minecell">&nbsp;</td><td id="c4:1" onclick='lClick("4:1")' oncontextmenu='return rClick("4:1")' class="minecell">&nbsp;</td><td id="c4:2" onclick='lClick("4:2")' oncontextmenu='return rClick("4:2")' class="minecell">&nbsp;</td><td id="c4:3" onclick='lClick("4:3")' oncontextmenu='return rClick("4:3")' class="minecell">&nbsp;</td><td id="c4:4" onclick='lClick("4:4")' oncontextmenu='return rClick("4:4")' class="minecell">&nbsp;</td><td id="c4:5" onclick='lClick("4:5")' oncontextmenu='return rClick("4:5")' class="minecell">&nbsp;</td><td id="c4:6" onclick='lClick("4:6")' oncontextmenu='return rClick("4:6")' class="minecell">&nbsp;</td><td id="c4:7" onclick='lClick("4:7")' oncontextmenu='return rClick("4:7")' class="minecell">&nbsp;</td><td id="c4:8" onclick='lClick("4:8")' oncontextmenu='return rClick("4:8")' class="minecell">&nbsp;</td></tr><tr><td id="c5:0" onclick='lClick("5:0")' oncontextmenu='return rClick("5:0")' class="minecell">&nbsp;</td><td id="c5:1" onclick='lClick("5:1")' oncontextmenu='return rClick("5:1")' class="minecell">&nbsp;</td><td id="c5:2" onclick='lClick("5:2")' oncontextmenu='return rClick("5:2")' class="minecell">&nbsp;</td><td id="c5:3" onclick='lClick("5:3")' oncontextmenu='return rClick("5:3")' class="minecell">&nbsp;</td><td id="c5:4" onclick='lClick("5:4")' oncontextmenu='return rClick("5:4")' class="minecell">&nbsp;</td><td id="c5:5" onclick='lClick("5:5")' oncontextmenu='return rClick("5:5")' class="minecell">&nbsp;</td><td id="c5:6" onclick='lClick("5:6")' oncontextmenu='return rClick("5:6")' class="minecell">&nbsp;</td><td id="c5:7" onclick='lClick("5:7")' oncontextmenu='return rClick("5:7")' class="minecell">&nbsp;</td><td id="c5:8" onclick='lClick("5:8")' oncontextmenu='return rClick("5:8")' class="minecell">&nbsp;</td></tr><tr><td id="c6:0" onclick='lClick("6:0")' oncontextmenu='return rClick("6:0")' class="minecell">&nbsp;</td><td id="c6:1" onclick='lClick("6:1")' oncontextmenu='return rClick("6:1")' class="minecell">&nbsp;</td><td id="c6:2" onclick='lClick("6:2")' oncontextmenu='return rClick("6:2")' class="minecell">&nbsp;</td><td id="c6:3" onclick='lClick("6:3")' oncontextmenu='return rClick("6:3")' class="minecell">&nbsp;</td><td id="c6:4" onclick='lClick("6:4")' oncontextmenu='return rClick("6:4")' class="minecell">&nbsp;</td><td id="c6:5" onclick='lClick("6:5")' oncontextmenu='return rClick("6:5")' class="minecell">&nbsp;</td><td id="c6:6" onclick='lClick("6:6")' oncontextmenu='return rClick("6:6")' class="minecell">&nbsp;</td><td id="c6:7" onclick='lClick("6:7")' oncontextmenu='return rClick("6:7")' class="minecell">&nbsp;</td><td id="c6:8" onclick='lClick("6:8")' oncontextmenu='return rClick("6:8")' class="minecell">&nbsp;</td></tr><tr><td id="c7:0" onclick='lClick("7:0")' oncontextmenu='return rClick("7:0")' class="minecell">&nbsp;</td><td id="c7:1" onclick='lClick("7:1")' oncontextmenu='return rClick("7:1")' class="minecell">&nbsp;</td><td id="c7:2" onclick='lClick("7:2")' oncontextmenu='return rClick("7:2")' class="minecell">&nbsp;</td><td id="c7:3" onclick='lClick("7:3")' oncontextmenu='return rClick("7:3")' class="minecell">&nbsp;</td><td id="c7:4" onclick='lClick("7:4")' oncontextmenu='return rClick("7:4")' class="minecell">&nbsp;</td><td id="c7:5" onclick='lClick("7:5")' oncontextmenu='return rClick("7:5")' class="minecell">&nbsp;</td><td id="c7:6" onclick='lClick("7:6")' oncontextmenu='return rClick("7:6")' class="minecell">&nbsp;</td><td id="c7:7" onclick='lClick("7:7")' oncontextmenu='return rClick("7:7")' class="minecell">&nbsp;</td><td id="c7:8" onclick='lClick("7:8")' oncontextmenu='return rClick("7:8")' class="minecell">&nbsp;</td></tr><tr><td id="c8:0" onclick='lClick("8:0")' oncontextmenu='return rClick("8:0")' class="minecell">&nbsp;</td><td id="c8:1" onclick='lClick("8:1")' oncontextmenu='return rClick("8:1")' class="minecell">&nbsp;</td><td id="c8:2" onclick='lClick("8:2")' oncontextmenu='return rClick("8:2")' class="minecell">&nbsp;</td><td id="c8:3" onclick='lClick("8:3")' oncontextmenu='return rClick("8:3")' class="minecell">&nbsp;</td><td id="c8:4" onclick='lClick("8:4")' oncontextmenu='return rClick("8:4")' class="minecell">&nbsp;</td><td id="c8:5" onclick='lClick("8:5")' oncontextmenu='return rClick("8:5")' class="minecell">&nbsp;</td><td id="c8:6" onclick='lClick("8:6")' oncontextmenu='return rClick("8:6")' class="minecell">&nbsp;</td><td id="c8:7" onclick='lClick("8:7")' oncontextmenu='return rClick("8:7")' class="minecell">&nbsp;</td><td id="c8:8" onclick='lClick("8:8")' oncontextmenu='return rClick("8:8")' class="minecell">&nbsp;</td></tr></table></div></div></body></html>